<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance System</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="images/school-logo.png">
  <style>
    .header-nav {
      display: flex;
      align-items: center;
      gap: 20px;
      position: relative;
    }

    .user-icon-container {
      cursor: pointer;
      margin-left: 10px;
      position: relative;
    }

    #userIcon {
      width: 45px;
      height: 45px;
      border-radius: 50%;
    }

    .auth-popup {
      position: absolute;
      top: 45px;
      right: 0;
      background: #101827;
      padding: 10px;
      border-radius: 10px;
      display: none;
      flex-direction: column;
      gap: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      z-index: 1000;
    }

    .auth-popup button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      background: #6ee7b7;
      color: black;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <header>
    <img src="images/school-logo.png" alt="School Logo" class="profile-pic" id="logo">
    <nav class="header-nav">
      <a href="#home">Home</a>
      <a href="#create-attendance">Create Attendance</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#contact">Contact</a>
      <div class="user-icon-container">
        <img src="images/1.png" alt="User Icon" id="userIcon">
        <div id="authPopup" class="auth-popup">
          <button id="loginBtn">Login</button>
          <button id="registerBtn">Create Account</button>
          <button id="logoutBtn" style="display: none;">Logout</button>
        </div>
      </div>
    </nav>
  </header>

  <div id="imageModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="modalImg">
  </div>

  <section id="home" class="title-container">
    <h1 style="text-align: center;">Attendance Monitoring</h1>
    <p style="text-align: center;">Welcome to the Attendance Monitoring System.</p>
  </section>

  <section id="create-attendance" class="content-container">
    <div class="main-content">
      <div class="create-container">
        <a href="create.html" class="create-link" style="align-items: center;">âž• Create Attendance</a>
      </div>
    </div>
  </section>

  <section id="about" class="content-container">
    <div class="main-content">
      <h2 style="text-align: center;">About Us</h2>
      <p>The Student Attendance System makes tracking class attendance easy, fast, and efficient. It allows teachers to
        monitor student participation in real-time, reducing the need for manual roll calls. With just a few clicks,
        educators can mark attendance, view reports, and manage records accurately. The system ensures that no student
        is overlooked, helping to identify patterns of absenteeism early. It also promotes accountability among students
        by keeping them aware of their attendance status. Parents can receive automatic notifications, keeping them
        informed about their childâ€™s presence in class. The system is user-friendly and designed to save time for
        teachers while improving record accuracy. Overall, it enhances transparency, communication, and organization in
        the classroom environment.</p>
    </div>
  </section>

  <section id="services" class="content-container">
    <div class="main-content">
      <h2 style="text-align: center;">Our Services</h2>
      <p>We offer an easy-to-use attendance monitoring system for teachers. The system tracks student attendance in real
        time, helping educators save time and effort. Students can upload proof of attendance, such as photos, for
        verification. Parents receive instant updates about their childâ€™s attendance status. Our goal is to make
        attendance tracking fast, accurate, and reliable for everyone.</p>
    </div>
  </section>

  <section id="contact" class="content-container">
    <div class="main-content">
      <h2 style="text-align: center">Contact Us</h2>
      <p>Email: AttendanceSystem@Gmail.com</p>
      <p>Location: SLSU LUCENA IBABANG DUPAY</p>
      <p>No. 09123456789</p>
    </div>
  </section>

  <footer id="footerPopup">
    <p>&copy; Attendance Website</p>
    <a href="feedback.html">
      <button id="feedbackBtn">ðŸ’¬ Feedback</button>
    </a>
  </footer>

  <script>
    const modal = document.getElementById("imageModal");
    const logo = document.getElementById("logo");
    const modalImg = document.getElementById("modalImg");
    const closeBtn = document.querySelector(".close");

    logo.onclick = () => {
      modal.style.display = "block";
      modalImg.src = logo.src;
    }

    closeBtn.onclick = () => modal.style.display = "none";

    window.onclick = (event) => {
      if (event.target === modal) modal.style.display = "none";
    }

    const userIcon = document.getElementById('userIcon');
    const authPopup = document.getElementById('authPopup');
    const loginBtn = document.getElementById('loginBtn');
    const registerBtn = document.getElementById('registerBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const createLink = document.querySelector('.create-link');

    userIcon.onclick = (e) => {
      e.stopPropagation();
      authPopup.style.display = authPopup.style.display === 'flex' ? 'none' : 'flex';
    };

    loginBtn.onclick = () => window.location.href = 'user.html';
    registerBtn.onclick = () => window.location.href = 'user.html';

    logoutBtn.onclick = () => {
      localStorage.removeItem('loggedIn');
      localStorage.removeItem('userEmail');
      window.location.reload();
    };

    window.addEventListener('click', () => authPopup.style.display = 'none');

    function updateLoginStatus() {
      const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
      if (isLoggedIn) {
        loginBtn.style.display = 'none';
        registerBtn.style.display = 'none';
        logoutBtn.style.display = 'block';
      } else {
        loginBtn.style.display = 'block';
        registerBtn.style.display = 'block';
        logoutBtn.style.display = 'none';
      }
    }

    updateLoginStatus();

    createLink.addEventListener('click', (e) => {
      const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
      if (!isLoggedIn) {
        e.preventDefault();
        alert('You need an account to create attendance. Please log in or create an account.');
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
      const links = document.querySelectorAll("a[data-section]");
      const header = document.querySelector("header");

      links.forEach(link => {
        link.addEventListener("click", (event) => {
          event.preventDefault();
          const section = document.getElementById(link.getAttribute("data-section"));
          const top = section.getBoundingClientRect().top + window.scrollY - header.offsetHeight - (window.innerHeight - section.offsetHeight) / 3;
          window.scrollTo({ top, behavior: "smooth" });
        });
      });

      const footer = document.getElementById("footerPopup");
      window.addEventListener("scroll", () => {
        footer.style.bottom = (window.innerHeight + window.scrollY >= document.body.offsetHeight - 10) ? "0" : "-100px";
      });

      let lastScrollY = window.scrollY;
      window.addEventListener("scroll", () => {
        header.style.transform = (window.scrollY > lastScrollY) ? "translateY(-100%)" : "translateY(0)";
        lastScrollY = window.scrollY;
      });

      document.addEventListener("mousemove", (e) => {
        if (e.clientY <= 50) header.style.transform = "translateY(0)";
      });
    });
  </script>
</body>

</html>
